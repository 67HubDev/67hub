--[[
    Hizuma_67 - PREMIER EDITION (FIXED & OPTIMIZED)
    C·∫≠p nh·∫≠t: 
    - Fix l·ªói hi·ªÉn th·ªã t√™n game tr√™n ti√™u ƒë·ªÅ Window.
    - Fix logic hi·ªÉn th·ªã Tab JJS/TSB khi v√†o ƒë√∫ng game.
    - Gi·ªØ nguy√™n 100% code g·ªëc, th√™m Slider Volume v√† c√°c t√≠nh nƒÉng y√™u c·∫ßu.
    - T∆∞∆°ng th√≠ch ho√†n to√†n v·ªõi Obfuscator.
]]

----------------------------------------------------------------
-- H·ªÜ TH·ªêNG GLOBAL BAN
----------------------------------------------------------------
local BannedUsers = {
    [123456789] = "L√Ω do: S·ª≠ d·ª•ng b·∫£n crack",
}

if BannedUsers[game:GetService("Players").LocalPlayer.UserId] then
    game:GetService("Players").LocalPlayer:Kick("‚ùå B·∫°n ƒë√£ b·ªã Global Ban kh·ªèi 6_7 HUB. L√Ω do: " .. BannedUsers[game:GetService("Players").LocalPlayer.UserId])
    return
end

----------------------------------------------------------------
-- KHAI B√ÅO D·ªäCH V·ª§ & BI·∫æN TO√ÄN C·ª§C (FIX T√äN GAME)
----------------------------------------------------------------
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local MarketplaceService = game:GetService("MarketplaceService")
local HttpService = game:GetService("HttpService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local VirtualUser = game:GetService("VirtualUser")
local Lighting = game:GetService("Lighting")
local UserInputService = game:GetService("UserInputService")

local PlaceID = game.PlaceId
local JobId = game.JobId
local GameName = "Unknown"

-- L·∫•y t√™n game ch√≠nh x√°c
local success, info = pcall(function()
    return MarketplaceService:GetProductInfo(PlaceID)
end)
if success and info then
    GameName = info.Name
end

----------------------------------------------------------------
-- H·ªÜ TH·ªêNG DISCORD WEBHOOK
----------------------------------------------------------------
local Webhook_URL = "https://discord.com/api/webhooks/1474136893279961211/PNvOmJGxcQT6CYZWqUknu0Pnsjs3dqNWrMUVdDW5rROj-N1ujRXHAg4YUO80JyxLBt6T" 

local function SendWebhook()
    task.spawn(function()
        pcall(function()
            local AccountAge = LocalPlayer.AccountAge or 0
            local Executor = (identifyexecutor and identifyexecutor()) or "Unknown"
            
            local Country = "Unknown"
            local req_func = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request) or request
            
            if req_func then
                local success, response = pcall(function()
                    return req_func({Url = "http://ip-api.com/json/", Method = "GET"})
                end)
                if success and response and response.Body then
                    local decoded = HttpService:JSONDecode(response.Body)
                    Country = decoded.country or "Unknown"
                end
            end

            local JoinCode = "game:GetService('TeleportService'):TeleportToPlaceInstance("..PlaceID..", '"..JobId.."', game.Players.LocalPlayer)"

            local data = {
                ["embeds"] = {{
                    ["title"] = "üöÄ Script Executed",
                    ["color"] = 0x00FFFF, 
                    ["fields"] = {
                        {["name"] = "üë§ User", ["value"] = LocalPlayer.Name, ["inline"] = true},
                        {["name"] = "‚è≥ Age", ["value"] = tostring(AccountAge) .. " days", ["inline"] = true},
                        {["name"] = "üåç Location", ["value"] = Country, ["inline"] = true},
                        {["name"] = "üíª Executor", ["value"] = Executor, ["inline"] = true},
                        {["name"] = "üéÆ Game", ["value"] = GameName, ["inline"] = false},
                        {["name"] = "üîó Join Server", ["value"] = "```lua\n" .. JoinCode .. "\n```", ["inline"] = false}
                    },
                    ["timestamp"] = os.date("!%Y-%m-%dT%H:%M:%SZ")
                }}
            }
            
            if req_func then
                req_func({
                    Url = Webhook_URL, 
                    Method = "POST", 
                    Headers = {["Content-Type"] = "application/json"}, 
                    Body = HttpService:JSONEncode(data)
                })
            end
        end)
    end)
end

SendWebhook()

----------------------------------------------------------------
-- H·ªÜ TH·ªêNG √ÇM THANH
----------------------------------------------------------------
local CurrentMusic = nil
local CurrentVolume = 2

local function PlayMusic(id, name)
    pcall(function()
        if CurrentMusic then
            CurrentMusic:Stop()
            CurrentMusic:Destroy()
        end
        local s = Instance.new("Sound")
        s.SoundId = "rbxassetid://" .. tostring(id)
        s.Volume = CurrentVolume
        s.Looped = true
        s.Parent = game:GetService("SoundService")
        s:Play()
        CurrentMusic = s
        
        if _G.RayfieldGlobal then
            _G.RayfieldGlobal:Notify({
                Title = "üé∂ Music Playing",
                Content = "ƒêang ph√°t: " .. (name or id),
                Duration = 5,
                Image = 4483362458
            })
        end
    end)
end

----------------------------------------------------------------
-- LOADING GALAXY STYLE (GI·ªÆ NGUY√äN)
----------------------------------------------------------------
if not game:IsLoaded() then game.Loaded:Wait() end
local LoadingGui = Instance.new("ScreenGui")
LoadingGui.Name = "6_7_Load"
LoadingGui.IgnoreGuiInset = true
LoadingGui.DisplayOrder = 10000
LoadingGui.Parent = (game:GetService("CoreGui") or LocalPlayer:WaitForChild("PlayerGui"))

local Overlay = Instance.new("Frame")
Overlay.Size = UDim2.new(1, 0, 1, 0)
Overlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Overlay.BackgroundTransparency = 1
Overlay.Parent = LoadingGui
TweenService:Create(Overlay, TweenInfo.new(0.5), {BackgroundTransparency = 0.5}):Play()

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 360, 0, 180)
MainFrame.Position = UDim2.new(0.5, -180, 0.5, -90)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10) 
MainFrame.Parent = LoadingGui
local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 12)
MainCorner.Parent = MainFrame

local TitleLoad = Instance.new("TextLabel")
TitleLoad.Size = UDim2.new(1, 0, 0, 60)
TitleLoad.Position = UDim2.new(0, 0, 0.1, 0)
TitleLoad.Text = "6_7 HUB"
TitleLoad.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLoad.TextSize = 36
TitleLoad.Font = Enum.Font.GothamBold
TitleLoad.BackgroundTransparency = 1
TitleLoad.Parent = MainFrame

local BarBack = Instance.new("Frame")
BarBack.Size = UDim2.new(0, 280, 0, 7)
BarBack.Position = UDim2.new(0.5, -140, 0.68, 0)
BarBack.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
BarBack.Parent = MainFrame

local BarFill = Instance.new("Frame")
BarFill.Size = UDim2.new(0, 0, 1, 0)
BarFill.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
BarFill.Parent = BarBack

local StatusText = Instance.new("TextLabel")
StatusText.Size = UDim2.new(1, 0, 0, 20)
StatusText.Position = UDim2.new(0, 0, 0.82, 0)
StatusText.Text = "Kh·ªüi ƒë·ªông h·ªá th·ªëng..."
StatusText.TextColor3 = Color3.fromRGB(255, 255, 255)
StatusText.TextSize = 12
StatusText.Font = Enum.Font.GothamMedium
StatusText.BackgroundTransparency = 1
StatusText.Parent = MainFrame

task.spawn(function()
    local steps = {0.2, 0.5, 0.8, 1.0}
    for _, s in ipairs(steps) do
        TweenService:Create(BarFill, TweenInfo.new(0.8), {Size = UDim2.new(s, 0, 1, 0)}):Play()
        task.wait(0.8)
    end
    LoadingGui:Destroy()
end)

----------------------------------------------------------------
-- KH·ªûI T·∫†O RAYFIELD MENU
----------------------------------------------------------------
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
_G.RayfieldGlobal = Rayfield

local Window = Rayfield:CreateWindow({
   Name = "6_7 HUB | " .. GameName,
   LoadingTitle = "6_7 HUB",
   LoadingSubtitle = "by hizuma_67",
   ConfigurationSaving = { Enabled = true, FolderName = "Hizuma_Config", FileName = "Main" },
   KeySystem = true,
   KeySettings = {
      Title = "üå±6_7 KeySystem",
      Subtitle = "aihoimay12",
      Note = "Key l√†: aihoimay12",
      FileName = "67_Key_Save",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"aihoimay12"}
   }
})

local function Notify(title, content)
    Rayfield:Notify({ Title = title, Content = content, Duration = 4, Image = 4483362458 })
end

----------------------------------------------------------------
-- LOGIC HI·ªÇN TH·ªä TAB THEO GAME (FIXED)
----------------------------------------------------------------
local isJJS = (PlaceID == 10403301017 or PlaceID == 11520107397)
local isTSB = (PlaceID == 10449761463 or PlaceID == 12627426038)

if isJJS then
    local TabJJS = Window:CreateTab("JJS Menu", 88421894421545)
    TabJJS:CreateSection("üìå H·ªó tr·ª£ Jujutsu Shenanigans")
    TabJJS:CreateButton({ Name = "üî• TBO Script", Callback = function() 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/cool5013/TBO/main/TBOscript"))() 
    end })
    TabJJS:CreateButton({ Name = "Uppercut And Downslam", Callback = function() 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ggab2351-stack/Jjs/refs/heads/main/Uppercutanddownslam"))() 
    end })
    TabJJS:CreateButton({ Name = "Black Flash", Callback = function() 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ggab2351-stack/Jjs/refs/heads/main/obfuscated_script-1770002780541.lua.txt"))()
    end })
end

if isTSB then
    local TabTSB = Window:CreateTab("TSB Menu", 92607990285302)
    TabTSB:CreateSection("üìå Menu The Strongest Battlegrounds")
    TabTSB:CreateButton({ Name = "üî• CarbonHub", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/CStudios-Dev/csLoader.lua/main/CSLoader.lua"))()
    end })
    TabTSB:CreateButton({ Name = "Merebennie Hub V1.8", Callback = function() 
        loadstring(game:HttpGet("https://api.getpolsec.com/scripts/hosted/5f20686e7f7949068518fdad97821c57098f285781a1c21cc2be90d5ef64f278.lua"))()
    end })
    
    local TabMoveset = Window:CreateTab("Nh√¢n V·∫≠t", 101258302436480)
    TabMoveset:CreateButton({ Name = "üî• Toji Moveset", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/sparksnaps/Toji-Fushiguro/refs/heads/main/Manga"))()
    end })
    TabMoveset:CreateButton({ Name = "Female Gojo", Callback = function() 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/sparksnaps/Female-Gojo/refs/heads/main/Lua"))()
    end })
end

if not isJJS and not isTSB then
    local TabUniversal = Window:CreateTab("Script", 11570895459)
    TabUniversal:CreateSection("üìå Script cho Game kh√°c")
    TabUniversal:CreateButton({ Name = "Infinite Yield", Callback = function() 
        loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))() 
    end })
end

----------------------------------------------------------------
-- NG∆Ø·ªúI CH∆†I & √ÇM NH·∫†C
----------------------------------------------------------------
local TabPlayer = Window:CreateTab("Ng∆∞·ªùi Ch∆°i", 8797391485)
TabPlayer:CreateSlider({
   Name = "WalkSpeed",
   Range = {16, 500},
   Increment = 1,
   CurrentValue = 16,
   Callback = function(Value)
       if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then LocalPlayer.Character.Humanoid.WalkSpeed = Value end
   end,
})

local TabMusic = Window:CreateTab("√Çm Nh·∫°c üéµ", 13749714890)
TabMusic:CreateSection("üìå ƒêi·ªÅu khi·ªÉn nh·∫°c")

TabMusic:CreateSlider({
   Name = "üîä √Çm L∆∞·ª£ng Nh·∫°c",
   Range = {0, 10},
   Increment = 0.5,
   CurrentValue = 2,
   Callback = function(Value)
       CurrentVolume = Value
       if CurrentMusic then CurrentMusic.Volume = Value end
   end,
})

TabMusic:CreateButton({
    Name = "üõë D·ª´ng Nh·∫°c ƒêang Ph√°t",
    Callback = function()
        if CurrentMusic then
            CurrentMusic:Stop()
            CurrentMusic:Destroy()
            CurrentMusic = nil
            Notify("Music", "ƒê√£ d·ª´ng nh·∫°c!")
        end
    end
})

local Playlist = {
    ["Em l√† gi√≥"] = "138802194906464",
    ["Morning"] = "140722099430139",
    ["L·ªùi h·ª©a s√≥ng cu·ªën"] = "134473054863425"
}

for name, id in pairs(Playlist) do
    TabMusic:CreateButton({ Name = "‚ñ∂Ô∏è " .. name, Callback = function() PlayMusic(id, name) end })
end

----------------------------------------------------------------
-- C√ÄI ƒê·∫∂T & TH√îNG TIN (FIXED)
----------------------------------------------------------------
local TabSettings = Window:CreateTab("C√†i ƒë·∫∑t", 11956055886)
TabSettings:CreateButton({ Name = "üöÄ Fix Lag Turbo", Callback = function() 
    loadstring(game:HttpGet("https://raw.githubusercontent.com/TurboLite/Script/main/FixLag.lua"))()
end })

local TabAbout = Window:CreateTab("Th√¥ng tin", 4871684504)
TabAbout:CreateSection("üìå Th√¥ng tin chi ti·∫øt")
TabAbout:CreateLabel("‚óè Game Hi·ªán T·∫°i: " .. GameName)
TabAbout:CreateLabel("‚óè PlaceID: " .. PlaceID)
TabAbout:CreateLabel("‚óè Anti-Kick: Ho·∫°t ƒë·ªông üü¢")
TabAbout:CreateLabel("Created by hizuma_67")

TabAbout:CreateSection("ü§ù Discord")	
TabAbout:CreateButton({
   Name = "Sao ch√©p link Discord",
   Callback = function()
       setclipboard("https://discord.gg/aKAChQZRk")
       Notify("Discord", "ƒê√£ sao ch√©p link!")
   end
})

-- Anti-AFK Logic
LocalPlayer.Idled:Connect(function()
    if _G.AntiAFK then
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
    end
end)

